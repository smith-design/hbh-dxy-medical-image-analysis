# 基于双重验证的多模态皮肤病变智能分析系统

## 项目背景

本项目为个人独立开发的原创性研究成果，旨在探索如何将小样本下的专用模型（Small Expert Model）与具备通用知识的大模型（Large Vision-Language Model）有效结合，以解决医学影像分析中的“黑盒问题”与“泛化瓶颈”。

在皮肤病诊断领域，单一的分类模型虽然能给出预测结果，但往往缺乏可解释性，且在面对非典型病例时容易误判。本项目提出了一种创新的“双重验证”架构，通过整合本地微调的 BiomedCLIP 模型与云端 Qwen2.5-VL 多模态大模型，实现了从“是什么”到“为什么”的完整分析链路。

---

## 核心创新点

### 1. 独创的“双模态-双验证”架构
本项目设计了一套分层式的推理管线：
- **第一层（初筛层）**：使用我在 HAM10000 皮肤镜数据集上进行全量微调的 BiomedCLIP 模型。该模型利用对比学习预训练权重，在特定领域的分类任务上具备极高的敏锐度，能够快速锁定病变性质。
- **第二层（解释层）**：引入 Qwen2.5-VL 多模态大模型作为“第二意见”。我通过精心设计的 Prompt Engineering，引导大模型结合医学知识库对图像的视觉特征进行结构化解构，生成符合 ABCD 规则的学术分析报告。

### 2. 鲁棒性系统设计
为解决实际部署中的环境差异问题，我设计了自适应的模型加载机制。系统能够根据运行环境自动识别模型权重架构，通过动态维度对齐算法，兼容不同版本的预训练特征提取器（如 DINOv2 与 BiomedCLIP 的无缝切换），确保系统在不同算力设备上均能稳定运行。

### 3. 全栈式交互体验
独立设计并开发了基于 React + TypeScript 的现代化前端交互界面。摒弃了传统的表单式操作，实现了“拖拽上传-实时分析-流式报告”的沉浸式体验，并将模型推理的置信度分布以动态可视化的形式直观呈现。

---

## 技术实现细节

### 后端架构
- **核心框架**：FastAPI
- **推理引擎**：PyTorch (本地模型), OpenAI SDK (云端 API)
- **关键算法**：
  - 基于 Contrastive Learning 的特征提取微调
  - 动态特征对齐 (Dynamic Feature Alignment)
  - 跨模态 Prompt 优化策略

### 前端架构
- **核心栈**：React 18, TypeScript, Vite
- **UI系统**：Tailwind CSS (v4)
- **可视化**：自定义 SVG 动画与数据图表组件

---

## 部署说明

### 1. 环境准备
本项目基于 Python 3.8+ 开发。

### 2. 启动后端服务
进入后端目录并安装依赖：
```bash
cd web/backend
pip install -r requirements.txt
python app.py
```
*注：系统启动时会自动检查本地权重完整性，首次运行可能需要下载基础预训练模型。*

### 3. 启动前端界面
进入前端目录并启动开发服务器：
```bash
cd web/frontend
npm install
npm run dev
```

---

## 支持检测的病变类型

本系统主要针对以下 7 类皮肤病变进行分析：
1. **光化性角化病 / 上皮内癌 (akiec)**：早期癌前病变
2. **基底细胞癌 (bcc)**：常见的皮肤恶性肿瘤
3. **良性角化病 (bkl)**：如脂溢性角化病
4. **皮肤纤维瘤 (df)**：良性结节
5. **黑色素瘤 (mel)**：高度恶性肿瘤
6. **黑色素细胞痣 (nv)**：常见良性痣
7. **血管病变 (vasc)**：如血管瘤

---

## 声明

本项目为个人原创作品，仅供学术交流与技术展示使用。系统分析结果基于深度学习算法生成，不构成任何医疗建议。在实际临床应用中，请务必遵循专业医生的诊断意见。

---

*Copyright © 2026. All Rights Reserved.*
